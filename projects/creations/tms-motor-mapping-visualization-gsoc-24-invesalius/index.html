<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>M. N. Gaafar | TMS Motor Mapping Visualization - GSoC 24 @Invesalius</title>
<meta name=description content="Google Summer of Code 2024 Contribution to Invesalius"><meta property="og:image" content="https://www.mngaafar.com/img/slice-2-0.2x.png"><meta property="og:title" content=" TMS Motor Mapping Visualization - GSoC 24 @Invesalius"><meta property="og:description" content="Google Summer of Code 2024 Contribution to Invesalius"><meta name=author content="Mohamed N. Gaafar"><link rel=preload href=https://cdn.jsdelivr.xyz/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2 crossorigin=anonymous><link rel=preload href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;0,800;1,300;1,400;1,600;1,700;1,800&family=Saira+Extra+Condensed:wght@100;200;300;400;500;600;700;800;900&display=swap" as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;0,800;1,300;1,400;1,600;1,700;1,800&family=Saira+Extra+Condensed:wght@100;200;300;400;500;600;700;800;900&display=swap"></noscript><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.15.1/css/all.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.15.1/css/all.css></noscript><link rel=preload href=https://cdnjs.cloudflare.com/ajax/libs/devicons/1.8.0/css/devicons.min.css integrity="sha512-JW3fT0YTK7pT7w437SoX6GcW76jOZ6E0jGmrqBAcloC4GKT+njHOY4fX5KxJ9WfIXTkNrAF994525fAHp+KCxg==" crossorigin=anonymous as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/devicons/1.8.0/css/devicons.min.css integrity="sha512-JW3fT0YTK7pT7w437SoX6GcW76jOZ6E0jGmrqBAcloC4GKT+njHOY4fX5KxJ9WfIXTkNrAF994525fAHp+KCxg==" crossorigin=anonymous></noscript><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css integrity="sha512-QKC1UZ/ZHNgFzVKSAhV5v5j73eeL9EEN289eKAEFaAjgAiobVAnVv/AGuPbXsKl1dNoel3kNr6PYnSiTzVVBCw==" crossorigin=anonymous as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css integrity="sha512-QKC1UZ/ZHNgFzVKSAhV5v5j73eeL9EEN289eKAEFaAjgAiobVAnVv/AGuPbXsKl1dNoel3kNr6PYnSiTzVVBCw==" crossorigin=anonymous></noscript><link rel=preload href=https://www.mngaafar.com/%20css/resume.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://www.mngaafar.com/%20css/resume.css></noscript><link rel=preload href=https://www.mngaafar.com/%20css/tweaks.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://www.mngaafar.com/%20css/tweaks.css></noscript><link rel=preload href=https://www.mngaafar.com/%20css/resume-override.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://www.mngaafar.com/%20css/resume-override.css></noscript><meta name=generator content="Hugo 0.133.0"></head><body id=page-top><nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id=sideNav><a class="navbar-brand js-scroll-trigger" href=#page-top><span class="d-block d-lg-none">Mohamed N. Gaafar</span>
<span class="d-none d-lg-block"><img class="img-fluid img-profile rounded-circle mx-auto mb-2" src=/img/slice-2-0.2x.png alt>
</span></a><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class=navbar-nav><li class=nav-item><a class="nav-link js-scroll-trigger" href=/#about>About</a></li><li class=nav-item><a class="nav-link js-scroll-trigger" href=/#projects>Projects</a></li><li class=nav-item><a class="nav-link js-scroll-trigger" href=/#Publications>Publications</a></li><li class=nav-item><a class="nav-link js-scroll-trigger" href=/#experience>Experience</a></li><li class=nav-item><a class="nav-link js-scroll-trigger" href=/#education>Education</a></li><li class=nav-item><a class="nav-link js-scroll-trigger" href=/blog>Blog</a></li><li class=nav-item><a class=nav-link href=/resume>Resume</a></li></ul></div></nav><div class="container-fluid p-0"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=https://www.mngaafar.com/>M. N. Gaafar</a></li><li class=breadcrumb-item><a href=https://www.mngaafar.com/projects/>Projects</a></li><li class=breadcrumb-item><a href=https://www.mngaafar.com/projects/creations/>Projects</a></li><li class="breadcrumb-item active"><a href=https://www.mngaafar.com/projects/creations/tms-motor-mapping-visualization-gsoc-24-invesalius/>TMS Motor Mapping Visualization - GSoC 24 @Invesalius</a></li></ol></nav><section class="resume-section p-3 p-lg-5 d-flex flex-column"><div class=my-auto><div class="mb-3 d-flex flex-row justify-content-between"><h2 class=mb-0><span class=text-primary>TMS Motor Mapping Visualization - GSoC 24 @Invesalius</span></h2><span>August 22, 2024</span></div><div><p>This project introduces a new Motor Mapping Visualization feature to Invesalius, offering enhanced capabilities for visualizing and interacting with Motor Evoked Potential (MEP) data</p><h2 id=features>Features:</h2><ol><li>Heatmap visualization on brain surface based on Motor evoked potentials</li><li>Interactive MEP value adjustment and session persistence</li><li>4 Customizable colormap ranges</li><li>Brain surface selection</li><li>Modifiable gaussian parameters for surface and points interpolation</li><li>10 Different colormaps to choose from</li></ol><h3 id=quick-runthrough>Quick Runthrough</h3><p>The following animation demonstrates the interactive workflow, allowing for real-time exploration of MEP data and visualization customization.</p><table><thead><tr><th style=text-align:center>Demo GIF</th></tr></thead><tbody><tr><td style=text-align:center><img src=https://github.com/user-attachments/assets/ca4e6f08-3e1b-4fb9-a17a-e1485081b167 alt=Animation></td></tr><tr><td style=text-align:center>Showing the visualization in action</td></tr></tbody></table><h3 id=detailed-feature-screenshots>Detailed Feature Screenshots</h3><table><thead><tr><th><strong>Motor Mapping</strong></th><th><strong>Color Map Presets</strong></th></tr></thead><tbody><tr><td><img src=https://github.com/user-attachments/assets/4ce3c72f-3e5f-482c-b378-7345a47f4892 alt="motor map"></td><td><img src=https://github.com/user-attachments/assets/30f94d2b-ef7a-4fca-a89d-f2db3ac50149 alt="colormap presets"></td></tr><tr><td>How the brain visualization looks like using the HotMetal theme</td><td>Many heatmap themes to choose from</td></tr><tr><td>﻿</td><td></td></tr><tr><td>﻿</td><td></td></tr><tr><td><strong>MEP Values and Toggle Button</strong></td><td><strong>Preferences</strong></td></tr><tr><td>&mdash;</td><td>&mdash;</td></tr><tr><td><img src=https://github.com/user-attachments/assets/dc8a2765-7858-4448-8918-85c1695c8842 alt="mep values and toggle button"></td><td><img src=https://github.com/user-attachments/assets/5e4a3c54-6ac3-4d55-b7b1-ed825b817e60 alt=preferences></td></tr><tr><td>MEP Values are now being saved and displayed</td><td>New section in preferences to manage the visualization parameters</td></tr></tbody></table><h2 id=challenges-and-takeaways>Challenges and Takeaways</h2><ul><li>I have invested a good amount of time during the project start for developing understanding on the architecture of the VTK pipeline and the overall visualization logic in Invesalius. Most of that was done on my own, with a little push from my mentors to fill in the knowledge gaps I had. This really gave me a taste of open source and the need to be self reliant first and foremost before using any of the contributors&rsquo; time.</li><li>Before GSoC, I had basic knowledge on developing medical visualization software and the complexity it can reach. Through this project, I was able to use VTK and python effectively to build complex and modular logic for brain visualization.</li><li>Being someone who uses python for everything, I love creating new programs/tools using Python. This project helped me learn a lot about working with pub-sub or event driven architecture in python and also taught me how to work with wxPython GUI framework which is used in many old python applications.</li><li>My code quality has also improved, thanks to detailed reviews from mentors over the course of this project.</li></ul><h2 id=acknowledgements>Acknowledgements</h2><p>I&rsquo;d like to thank all my mentors for helping me throughout this project. A special shoutout to <a href=https://github.com/rmatsuda>Renan Matusda</a> and <a href=https://github.com/vhosouza>Victor Souza</a>, for their comprehensive code reviews and guidance. It was an honor working with them.</p><p>Contributing to Invesalius has been amazing, and I am looking forward to contributing more in the future! I am glad to have worked with such amazing people. I am extremely thankful to Google Summer of Code for providing me with this opportunity to improve my programming skills and learn a lot about open-source development along the way.</p><h2 id=pull-requests>Pull Requests</h2><p><a href=https://github.com/invesalius/invesalius3/pull/825>https://github.com/invesalius/invesalius3/pull/825</a></p><h2 id=future-work>Future Work</h2><ul><li>In future iterations, I plan to add a sliding gradient editor for more intuitive color customization and enhance the colorbar for improved range interpretation.</li><li>The brain projection is not directly projected to the surface and is dependent on the height from the scalp as the point is generated at the coil&rsquo;s center position and not directly on the brain surface, increasing the visualization radius from preferences helps. But it is not ideal.</li><li>Marker file import and export functionality in addition to the ability to export a colored mesh object to be done.</li></ul><p>Project link: <a href=https://github.com/invesalius/invesalius3>https://github.com/invesalius/invesalius3</a></p></div><div></div><ul class=tags></ul></div></section></div><script src=https://code.jquery.com/jquery-3.6.4.slim.min.js integrity="sha256-a2yjHM4jnF9f54xUQakjZGaqYs/V1CYvWpoqZzC2/Bw=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.xyz/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js integrity=sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx crossorigin=anonymous></script><script src=https://unpkg.com/smoothscroll-polyfill@0.4.4/dist/smoothscroll.min.js integrity=sha384-EYn4rWu1DHvYD0sSSSbMEtXQmMl58CFJd897806+RT1jJVYbhuZlZMN6yG9nCyFa crossorigin=anonymous></script><script src=https://unpkg.com/smoothscroll-anchor-polyfill@1.3.2/dist/index.min.js integrity=sha384-EY9NBEHCFbZANmPcTm7CgG8OhsFILy0VBLG85pF6OIpP42NVbZVNsFOc23PYTCkB crossorigin=anonymous></script><script async src=/js/resume.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-5GL6K1NVFM"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5GL6K1NVFM")</script></body></html>